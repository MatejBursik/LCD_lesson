# LCD lesson

This repository is the starting stone to using Python, Orange Pi 3 LTS, LCD Nokia 5110 and Jumper wires to display information.

## Hardware

- [Orange 3 LTS](http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/orange-pi-3-LTS.html)
- [LCD Nokia 5110](https://components101.com/displays/nokia-5110-lcd)
- [Jumper Wires](https://en.wikipedia.org/wiki/Jump_wire)
- [1k resistor](https://electronicsreference.com/1k_resistor_color_code/)
- [Button](https://www.sparkfun.com/products/97)

## Dependencies

These libraries do not come with python out of the box
- wiringpi (follow [instruction](/install_wiringpi.txt))
- spidev (follow [instruction](/install_spidev.txt))

## Background

### LCD (What is it)

LCD stands for Liquid Crystal Display. They are a cheap display compared to the alternatives like OLED.
They offer a high readability and some people even prefer them due to the more natural colours they provide.

An LCD consists out of several components:

- **Backlight**: The backlight emits light, without the backlight the LCD would appear dark or black since the crystals themselves do not emit light.
- **Polarizer Plates**: The LCD has 2 polarizer plates, a horizontal plate which only lets through horizontally polarized light. And a vertical plate which only lets through vertically polarized light.
- **Glass panels**: The glass panels surround the liquid crystal and electrodes, this helps with structural integrity and flatness of the LCD.
- **Transparant Electrodes**: The electrodes are used to polarize the liquid crystal. They are accompanied by a transistor and are on one side of the glass panels.
By default the liquid crystal has random polarization. By creating electric fields, using the transistor and electrodes, the orientation of the liquid crystal will change. 
- **Liquid Crystal**: Liquid crystals can adapt the passage of light. If they are aligned properly they can either block or let through light. They can even change the brightness
of the light that is let through. By generating an electric field over certain areas, an image can be created.
- **Colour Filter**: The colour filter exists out of 3 subpixels. Red, green and blue, these subpixels combine to create the colours you see on the display.
- **Display**: The display will show the resulting image of the light manipulation that is done by the LCD.

All these parts are used for each and every pixel of the display.

### SPI (Serial Peripheral Interface)

SPI (Serial Peripheral Interface) is a synchronous serial communication protocol used for communicating between microcontrollers, sensors, memory devices, and other peripherals in embedded systems. It typically involves a master-slave configuration, where one device (the master) controls the communication and initiates data transfers with one or more peripheral devices (the slaves). In our case, the LCD Nokia 5110 uses SPI to communicate with Orange Pi 3 LTS where Orange Pi 3 LTS serves as the master and the LCD Nokia 5110 as the slave.

Devices that communicate via SPI need these connections:
- SCLK (Serial Clock): This line carries clock signals generated by the master to synchronize data transmission between the master and the slave.
- MOSI (Master Out Slave In): This line carries data from the master to the slave.
- MISO (Master In Slave Out): This line carries data from the slave to the
  master.
- SS/CS (Slave Select/Chip Select): This line is used by the master to select a specific slave device with which it wants to communicate. Typically, each slave device has its own SS/CS line.

### Orange Pi pins

Pin layout corelation between Orange Pi pins (Hardware) labeled with H and their functionality in Python code (wiringpi) labeled with W.

| H | W |   | W | H |
|---|---|---|---|---|
| 1 | 3v3 |   | 5v | 2 |
| 3 | w0 |   | 5v | 4 |
| 5 | w1 |   | GND | 6 |
| 7 | w2 |   | w3 | 8 |
| 9 | GND |   | w4 | 10 |
| 11 | w5 |   | w6 | 12 |
| 13 | w7 |   | GND | 14 |
| 15 | w8 |   | w9 | 16 |
| 17 | 3v3 |   | w10 | 18 |
| 19 | w11 |   | GND | 20 |
| 21 | w12 |   | w13 | 22 |
| 23 | w14 |   | w15 | 24 |
| 25 | GND |   | w16 | 26 |

### LCD Nokia 5110 pins

| Number | Lable | Function |
|---|---|---|
| 1 | RST | Reset |
| 2 | CE | Chip Enable |
| 3 | D/C | Data/Command Selection |
| 4 | DIN | Serial Input |
| 5 | CLK | Clock Input |
| 6 | VCC | 3.3V |
| 7 | LIGHT | Backlight Control |
| 8 | GND | Ground |

## Demo 1 (only LCD)

This Demo focuses only on the LCD. Follow this [code](/demo_1.py) to display a counter which increases every second.

#### Wiring

| Orange PI |  | LCD |
|---|---|---|
| 18 | -> | 1 |
| 22 | -> | 2 |
| 16 | -> | 3 |
| 19 | -> | 4 |
| 23 | -> | 5 |
| 1 | -> | 6 |
| 12 | -> | 7 |
| 9 | -> | 8 |

![wiring for demo 1](/assets/demo_1.png)

## Demo 2 (LCD + button)

This Demo focuses using the LCD in conjunction with other components like a button. Follow this [code](/demo_2.py) to display whether the button is pressed or not.
1k pullup resistor switch.

#### Wiring

| Orange PI |  | LCD |
|---|---|---|
| 18 | -> | 1 |
| 22 | -> | 2 |
| 16 | -> | 3 |
| 19 | -> | 4 |
| 23 | -> | 5 |
| 1 | -> | 6 |
| 12 | -> | 7 |
| 9 | -> | 8 |

| Orange PI |  | Button |
|---|---|---|
| 17 | -> | 3v3 to resistor |
| 25 | -> | GND out of the button |
| 26 | -> | Orange PI input |

![wiring for demo 2](/assets/demo_2.png)

## Common problems

Check your wiring. Are the wires connected to the correct pins? Are the wires plugged in properly?

Check the brightness of the LCD.  You might need it to be brighter.

Have you downloaded all necessary dependencies? (spidev, wiringpi)â€‹
